var tinymcesetup=function(){tinymce.init({mode:"textareas",selector:".tinymce",width:"90%",height:300,plugins:["advlist autolink lists charmap print preview hr spellchecker","searchreplace wordcount visualblocks visualchars code fullscreen","save contextmenu directionality template paste textcolor"],content_css:"js/tinymce/skins/lightgray/content.min.css",toolbar:"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | l      ink image | print preview media fullpage | forecolor backcolor emoticons",style_formats:[{title:"Bold text",inline:"b"},{title:"Red text",inline:"span",styles:{color:"#ff0000"}},{title:"Red header",block:"h1",styles:{color:"#ff0000"}},{title:"Example 1",inline:"span",classes:"example1"},{title:"Example 2",inline:"span",classes:"example2"},{title:"AppTable styles"},{title:"AppTable row 1",selector:"tr",classes:"tablerow1"}]})};function getPage(b,a){if(b===undefined){var c=getParams();b=(c.page===undefined)?"home":c.page}a=(a===undefined)?parseurl():a;a=(a===false||a==="")?false:a;jQuery.ajax({url:"php/form.php",data:{get_app_status:true},type:"POST",async:true,success:function(e){var d=jQuery.parseJSON(e);if(d==="Off"&&b!="admin"){$("#pagecontent").html("<div id='content'><div style='vertical-align: middle; margin-top: 20%; text-align: center;'><div style='font-size: 1.6em; font-weight: 600; margin-bottom: 20px;'>Sorry</div><div> the website is currently under maintenance.</div></div></div>").fadeIn(200)}else{loadPageContent(b,a)}}})}function loadPageContent(b,a){jQuery.ajax({url:"php/form.php",data:{getPage:b},type:"POST",async:true,success:function(d){var c=jQuery.parseJSON(d);if(c.pageName===null){$("#pagecontent").html("<div id='nopage'>If you were looking for the answer to the question:<p style='font-size: 1.4em; text-align: center;'>What is the universe?</p> I can tell you it is 42. <p>But since you were looking for a page that does not exist, then I can tell you:</p><p style='font-size: 2em; text-align: center;'>ERROR 404</p></div>").fadeIn(200)}else{if(c.status===true){displayPage(b,c.pageName,a)}else{$("#pagecontent").html(c.msg).fadeIn(200)}}}})}var displayPage=function(e,d,f){var b={page:d};var a=(f===false)?"index.php?page="+e:"index.php?page="+e+"&"+f;var c=$("#pagecontent");jQuery.ajax({url:"pages/"+d+".php",type:"GET",async:true,data:f,beforeSend:function(){loadingDiv(c)},complete:function(){removeLoading(c)},success:function(h){var g=jQuery.parseJSON(h);history.pushState(b,d,a);c.hide().html(g);$("section").each(function(){$(this).fadeIn(200)});tinymcesetup();var i=showPlugins;getPlugins(d,i)}})};var parseurl=function(){var a=window.location.search.substring(1);var b=a.split("&");b=b.slice(1,b.length);b=b.join("&");return b};getParams=function(){var c=window.location.href;var f=c.split("?");if(f.length===1){return{}}var a=decodeURIComponent(f[1]).split("&");var e={};for(var d=0;d<a.length;d++){var b=a[d].split("=");e[b[0]]=b[1]}return e};function loadingDiv(a){a.css("position","relative").append("<div class='loadingDiv' style='width: 100%; height: 100%;'></div>").show()}function removeLoading(a){a.fadeIn(200);a.find(".loadingDiv").fadeOut(1000).remove()}function adapt(){var i=$("#float_menu");var e=$(".topnav");var f=$(".sideMenu");f.hide();i.hide();$(".submenu").hide();var a=$("#sitetitle").outerWidth()+e.outerWidth()+$("#login_box").outerWidth()+10;if($(window).width()<=a){i.show();e.hide()}else{i.hide();e.css("display","inline-block").show()}var j=$(window).height();var b=$(window).width();$("#core").css("min-height",j+"px");var g=$(".modalContainer");var d=g.outerWidth();var h=(d<b)?d/2:0;var c=(d<b)?50:0;g.css({"margin-left":-h+"px",left:c+"%"})}$(document).ready(function(){$(window).resize(function(){adapt()});$("body").ready(function(){getPage();adapt()})});