function getPlugins(a,b){jQuery.ajax({url:"php/form.php",type:"POST",data:{get_plugins:true,page:a},async:true,success:function(d){var c=jQuery.parseJSON(d);b(a,c)}})}function showPlugins(d,a){var b;for(b in a){var c=a[b];if(c.page==d){$(".plugins").fadeOut(200).append("<section>"+c.display+"</section>").fadeIn(200)}}}$(document).ready(function(){$("<style>").prop("type","text/css").html("            .valid_input {                background: rgba(0, 200, 0, .5);            }            .wrong_input {                background: rgba(200, 0, 0, .5);            }").appendTo("head");$(".mainbody").on("input",".modSettings",function(f){f.preventDefault();var a=$(this);var c=$(this).data("option");var b=$(this).data("name");var g=$(this).data("op");var d=$(this).val();jQuery.ajax({url:"php/form.php",type:"POST",data:{modSettings:b,option:c,op:g,value:d},async:true,success:function(h){var e=jQuery.parseJSON(h);if(e===true||e!==false){if(g=="cron"){$("#cron_time_"+b).html(e)}a.addClass("valid_input");setTimeout(function(){a.removeClass("valid_input")},500)}else{a.addClass("wrong_input");setTimeout(function(){a.removeClass("wrong_input")},500)}}})}).on("click",".installDep",function(d){d.preventDefault();var c=$(this);var a=$(this).attr("data-name");var h=$(this).attr("data-op");var b=$(this).attr("data-type");var g=$(this).closest(".plugDiv");var f=function(e){if(e.status===true){var j=(h=="install")?"uninstallBtn":"installBtn";var i=(h=="install")?"uninstall":"install";$(c).attr("data-op",i).addClass(j)}};jQuery.ajax({url:"php/form.php",type:"POST",data:{installDep:a,type:b,op:h},async:true,beforeSend:function(){if(h=="install"){$(c.removeClass("installBtn"))}else{$(c.removeClass("uninstallBtn"))}$(c).addClass("loadBtn")},success:function(e){validsubmitform(g,e,f)}})}).on("click",".activateDep",function(d){d.preventDefault();var c=$(this);var a=$(this).attr("data-name");var h=$(this).attr("data-op");var b=$(this).attr("data-type");var g=$(this).closest(".plugDiv");var f=function(e){if(e.status===true){var j=(h==="On")?"deactivateBtn":"activateBtn";var i=(h==="On")?"Off":"On";$(c).attr("data-op",i).addClass(j)}};jQuery.ajax({url:"php/form.php",type:"POST",data:{activateDep:a,type:b,op:h},async:true,beforeSend:function(){if(h=="on"){$(c.removeClass("activateBtn"))}else{$(c.removeClass("deactivateBtn"))}$(c).addClass("loadBtn")},success:function(e){validsubmitform(g,e,f)}})}).on("click",".optShow",function(b){b.preventDefault();var a=$(this).attr("data-name");var c=$(this).attr("data-op");jQuery.ajax({url:"php/form.php",type:"POST",data:{getOpt:a,op:c},async:true,success:function(e){var d=jQuery.parseJSON(e);$(".plugOpt#"+a).html(d).toggle()}})}).on("click",".modOpt",function(f){f.preventDefault();var a=$(this).closest(".plugOpt").attr("id");var h=$(this).attr("data-op");var g=$(this).closest(".plugDiv");var c=$(this).length>0?$($(this)[0].form):$();var b=c.serializeArray();var d={modOpt:a,op:h,data:b};processAjax(g,d)}).on("click",".showLog",function(b){b.preventDefault();var a=$(this).attr("id");var c=$(".plugLog#"+a);if(!c.is(":visible")){jQuery.ajax({type:"post",url:"php/form.php",data:{showLog:a},success:function(e){var d=jQuery.parseJSON(e);$(".plugLog#"+a).html(d).toggle()}})}else{c.toggle()}}).on("click",".deleteLog",function(b){b.preventDefault();var a=$(this).attr("id");var c=$(this).closest(".plugDiv");jQuery.ajax({type:"post",url:"php/form.php",data:{deleteLog:a},success:function(d){validsubmitform(c,d)}})}).on("click",".run_cron",function(c){c.preventDefault();var a=$(this);var b=$(this).attr("data-cron");var d=$(this).closest(".plugDiv");jQuery.ajax({url:"php/form.php",type:"POST",data:{run_cron:true,cron:b},async:true,beforeSend:function(){$(a).toggleClass("runBtn loadBtn")},complete:function(){$(a).toggleClass("runBtn loadBtn")},success:function(e){validsubmitform(d,e)}})})});